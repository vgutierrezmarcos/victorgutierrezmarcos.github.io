# CLAUDE.md

This file provides guidance to Claude Code (claude.ai/code) when working with code in this repository.

## Project Overview

This is a static website for preparing for the Spanish civil service exam "Oposición a Técnico Comercial y Economista del Estado" (TCEE). The site is hosted on GitHub Pages at victorgutierrezmarcos.es.

## Architecture

### Static Site Structure
- Pure HTML/CSS/JS static website (no build system or framework)
- Pages are standalone HTML files with shared CSS styles
- All content and code comments are in Spanish

### Site Sections
```
/                      # Homepage with 3 cards linking to main sections
├── oposicion/         # Exam preparation materials (main content)
│   ├── index.html     # Introduction
│   ├── temario.html   # Syllabus overview
│   ├── organizacion.html  # Study organization resources
│   ├── enlaces.html   # External links
│   └── temario/       # Individual exercise pages
│       ├── primer-ejercicio.html    # Test + Economic situation analysis
│       │   └── test/                # Test simulator
│       ├── segundo-ejercicio.html   # Languages
│       ├── tercer-ejercicio.html    # Economics (~90 topics)
│       ├── cuarto-ejercicio.html    # Spanish Economy & Public Finance
│       └── quinto-ejercicio.html    # Marketing, Econometrics, Law
├── blog/              # Articles on economic policy
└── sobre-mi.html      # About page
```

### Key Components

**Search System** (`search-engine.js`, `search-ui.js`, `build-search-index.js`)
- Client-side fuzzy search with Levenshtein distance ranking
- `search-index.json` is generated by running `node build-search-index.js`

**Test Simulator** (`oposicion/temario/primer-ejercicio/test/`)
- `simulador.html` - Interactive test practice interface
- `preguntas.json` - Question bank from official exams with metadata (exam, year, tema)

**Course Banner** (`course-banner.js`)
- Promotional banner shown only in the oposicion section
- Uses localStorage to hide for 10 minutes after user closes it
- Banner HTML must be present in each oposicion page

**Cookie Consent** (`cookie-consent.js`, `cookie-consent.css`)
- GDPR-compliant consent banner managing Google Analytics

### Navigation Pattern

Pages in `oposicion/` have a sub-navigation bar with inline styles:
```html
<nav class="sub-nav" style="background: var(--color-bg-cream); border-bottom: 1px solid var(--color-border);">
    <ul class="nav-list" style="padding: 0.3rem 0;">
        <li><a href="..." style="font-size: 0.75rem;">LINK</a></li>
    </ul>
</nav>
```

## Commands

**Rebuild search index after content changes:**
```bash
node build-search-index.js
```

**Local development:** Open HTML files directly in browser or use any static server.

## GitHub Actions

`.github/workflows/create-materials-zip.yml` - Creates downloadable ZIP of educational materials (PDFs) on push to main. Creates GitHub release tagged `materiales-latest`.
